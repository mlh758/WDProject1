<html>
<head>
<title>
	Movie Search
</title>
<link rel="stylesheet" href="./css/project.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="./movies.js"></script>
<script src="./js/project.js"></script>
<script>
	rendered = false;
	$(function() {
		$( "#movie_input" ).autocomplete({
		  source: movies.movies.map(function(item){
			return {
				label: item.title,
				value: item.year,
				starring: item.starring
			}
		  }),
		  focus: function(event, ui) {
			$("#movie_input").val(ui.item.label);
			return false;
		  },
		  select: function(event, ui) {
			$( "#movie_input" ).val(ui.item.label);
			return false;
		  }
		})
		.autocomplete( "instance" )._renderItem = function( ul, item ) {
		  return $( "<li>" )
			.append( "<span>" + item.label + "</span>" +
					"<span>" + "(" +item.value + ")" + "</span>" +
					"<span>" + "Starring: " + item.starring + "</span>")
			.appendTo( ul );
		};
		$("#grid_button").click(function(){
			$(this).addClass("grid-button-selected");
			$("#list_button").removeClass("list-button-selected").addClass("list-button");
			RenderGrid(movies.movies);
			rendered = true;
		});
		$("#list_button").click(function(){
			$(this).addClass("list-button-selected");
			$("#grid_button").removeClass("grid-button-selected").addClass("grid-button");
			RenderList(movies.movies)
			rendered = true;
		});
		$(".dropdown").change(function(){
			if($("#grid_button").hasClass("grid-button-selected") && rendered){
				RenderGrid(movies.movies);
			}
			else if($("#list_button").hasClass("list-button-selected") && rendered){
				RenderList(movies.movies);
			}
		})
	});
</script>
</head>
<body>
<div class="page-header">
	<span class="site-title">A MOVIE</span>
	<input type="text" name="movie_input" id="movie_input">
	<button>Search</button>
</div>
<div class="controls">
	<button id="grid_button" class="grid-button"></button>
	<button id="list_button" class="list-button"></button>
	<span class="sort-options">Sort By:</span>
	<select class="sort-options dropdown">
	  <option value="rating">Rating</option>
	  <option value="year">Year</option>
	</select>
</div>
<div class="movie-container">
</div>
</body>
</html>